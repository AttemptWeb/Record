# 小程序

[小程序文档](http://developers.weixin.qq.com/miniprogram/dev/)

我会加入一些 [小程序文档](http://developers.weixin.qq.com/miniprogram/dev/)没有提到的问题和开发的技巧。

### project.config.json

这个文件的目的就是保存编辑器的配置，不会因为更换电脑而配置丢失。编辑器识别的编辑器配置文件

## appjs

appjs是全局的，是唯一的，在非appjs页面，可以通过getApp()获取到appjs的方法。对于一些全局的变量或者方法可以写在appjs中便于调用。

```
APP({
    onLaunch() {

    },
    onShow() {

    }
    onHide() {

    },
    /* 定义的方法 */
    SplitStr(){

    }
    ...
})
```
onLaunch、onShow、onHide等方法是在小程序启动时就会调用，具体功能课参考[文档](http://developers.weixin.qq.com/miniprogram/dev/framework/app-service/app.html)，合理的定义全局方法有利于后期的代码编写。

在开发中可以封装全局方法，弹窗、request请求方法、编码方法等，将这些方法放在appjs中，可以更好的调用。

gloabl可以保存全局变量，通过**getApp().globalData**就可以获得。

## page

注册一个页面时，需要合理的配置页面的方法和组件。对于一些公用的组件 可以 抽离成 [Component](http://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/wxml-wxss.html)组件 或者 [template](http://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/template.html)模版

生命周期和事件处理函数 [Page页面](https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html) 是最常用的。需要区分各个生命周期函数的作用。

* page中最重要可能是 **setData** 。这里需要记住，频繁的调用setData会出现性能问题，对于页面的卡顿和渲染过慢的问题，都有可能是频繁调用 setData导致。

* page中的 **onPageScroll** ，频繁的操作setData，即会导致页面卡顿。好的做法是，限定一个区间值，在区间值之内，就会改变，反之不调用。

* page的主包大小只有2M，最好使用组件化开发。即使使用分包加载，也需要注意这个问题。

## 开发需要注意的点

* storage一个key最大存1M的数据

* 