### 从输入 URL 到页面加载完成，发生了什么？

对于前端开发，这个过程非常的重要。了解这个过程，对于前端问题的排查和性能优化提升有很大的作用，其实这个问题——无须你调动太多计算机的专业知识，
只需要你用最快的速度在脑海中架构起这个抽象的过程，对于这个抽象概念的了解将会有意想不到的帮助。

我们现在一起简单地复习一遍这个经典的过程：

首先我们需要通过 DNS（域名解析系统）将 URL 解析为对应的 IP 地址，然后与这个 IP 地址确定的那台服务器建立起 TCP 网络连接，随后我们向服务端抛出我们的 HTTP 请求，服务端处理完我们的请求之后，把目标数据放在 HTTP 响应里返回给客户端，拿到响应数据的浏览器就可以开始走一个渲染的流程。渲染完毕，页面便呈现给了用户，并时刻等待响应用户的操作（如下图所示）。

![imageView2](https://user-gold-cdn.xitu.io/2018/10/18/16685737b823244c?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

我们将这个过程切分为如下的过程片段：

    DNS 解析
       |
    TCP 连接
       |
    HTTP 请求抛出
       |
    服务端处理请求，HTTP 响应返回
       |
    浏览器拿到响应数据，解析响应内容，把解析的结果展示给用户

### 浏览器页面渲染机制

浏览器渲染的处理就是最后一步，```浏览器拿到响应数据，解析响应内容，把解析的结果展示给用户```。

首先我们知道，数据在网络传输中是以“数据包”的形式通过互联网发送，而数据包以字节为单位。

**当你编写一些 HTML、CSS 和 JS，并试图在浏览器中打开 HTML 文件时，浏览器会从你的硬盘（或网络）中读取 HTML 的原始字节**。

![](https://user-gold-cdn.xitu.io/2018/10/19/1668b7387f84125f?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

**浏览器读取的是原始数据字节，而不是你编写的代码的实际字符。** 从以上知道。浏览器接收字节数据，但是，它用这些数据什么都做不了。数据的原始字节必须转换为它所理解的形式，这是第一步。

![](https://user-gold-cdn.xitu.io/2018/10/19/1668b7389cb432c2?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

浏览器对象需要处理的是文档对象模型（DOM）对象。那么，DOM 对象是从何而来的呢？这很简单。首先，将原始数据字节转换为字符。

![](https://user-gold-cdn.xitu.io/2018/10/19/1668b738a2e0f05f?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

